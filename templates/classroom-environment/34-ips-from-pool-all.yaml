# Environment file demonstrating how to pre-assign IPs to all node types
resource_registry:
  OS::TripleO::Controller::Ports::ExternalPort: /usr/share/openstack-tripleo-heat-templates/network/ports/external_from_pool.yaml
  OS::TripleO::Controller::Ports::InternalApiPort: /usr/share/openstack-tripleo-heat-templates/network/ports/internal_api_from_pool.yaml
  OS::TripleO::Controller::Ports::StoragePort: /usr/share/openstack-tripleo-heat-templates/network/ports/storage_from_pool.yaml
  OS::TripleO::Controller::Ports::StorageMgmtPort: /usr/share/openstack-tripleo-heat-templates/network/ports/storage_mgmt_from_pool.yaml
  OS::TripleO::Controller::Ports::TenantPort: /usr/share/openstack-tripleo-heat-templates/network/ports/tenant_from_pool.yaml
  # Management network is optional and disabled by default
  OS::TripleO::Controller::Ports::ManagementPort: /usr/share/openstack-tripleo-heat-templates/network/ports/management_from_pool.yaml

  OS::TripleO::Compute::Ports::ExternalPort: /usr/share/openstack-tripleo-heat-templates/network/ports/external_from_pool.yaml
  OS::TripleO::Compute::Ports::InternalApiPort: /usr/share/openstack-tripleo-heat-templates/network/ports/internal_api_from_pool.yaml
  OS::TripleO::Compute::Ports::StoragePort: /usr/share/openstack-tripleo-heat-templates/network/ports/storage_from_pool.yaml
  OS::TripleO::Compute::Ports::StorageMgmtPort: /usr/share/openstack-tripleo-heat-templates/network/ports/noop.yaml
  OS::TripleO::Compute::Ports::TenantPort: /usr/share/openstack-tripleo-heat-templates/network/ports/tenant_from_pool.yaml
  OS::TripleO::Compute::Ports::ManagementPort: /usr/share/openstack-tripleo-heat-templates/network/ports/management_from_pool.yaml

  # Port assignments for the Compute HCI node
  OS::TripleO::ComputeHCI::Ports::ExternalPort: /usr/share/openstack-tripleo-heat-templates/network/ports/external_from_pool.yaml
  OS::TripleO::ComputeHCI::Ports::InternalApiPort: /usr/share/openstack-tripleo-heat-templates/network/ports/internal_api_from_pool.yaml
  OS::TripleO::ComputeHCI::Ports::StoragePort: /usr/share/openstack-tripleo-heat-templates/network/ports/storage_from_pool.yaml
  OS::TripleO::ComputeHCI::Ports::StorageMgmtPort: /usr/share/openstack-tripleo-heat-templates/network/ports/storage_mgmt_from_pool.yaml
  OS::TripleO::ComputeHCI::Ports::TenantPort: /usr/share/openstack-tripleo-heat-templates/network/ports/tenant_from_pool.yaml
  OS::TripleO::ComputeHCI::Ports::ManagementPort: /usr/share/openstack-tripleo-heat-templates/network/ports/management_from_pool.yaml

  OS::TripleO::CephStorage::Ports::ExternalPort: /usr/share/openstack-tripleo-heat-templates/network/ports/external_from_pool.yaml
  OS::TripleO::CephStorage::Ports::InternalApiPort: /usr/share/openstack-tripleo-heat-templates/network/ports/noop.yaml
  OS::TripleO::CephStorage::Ports::StoragePort: /usr/share/openstack-tripleo-heat-templates/network/ports/storage_from_pool.yaml
  OS::TripleO::CephStorage::Ports::StorageMgmtPort: /usr/share/openstack-tripleo-heat-templates/network/ports/storage_mgmt_from_pool.yaml
  OS::TripleO::CephStorage::Ports::TenantPort: /usr/share/openstack-tripleo-heat-templates/network/ports/noop.yaml
  OS::TripleO::CephStorage::Ports::ManagementPort: /usr/share/openstack-tripleo-heat-templates/network/ports/management_from_pool.yaml

parameter_defaults:
  ControllerIPs:
    # Each controller will get an IP from the lists below, first controller, first IP
    external:
    - 172.25.250.1
    internal_api:
    - 172.24.1.1
    tenant:
    - 172.24.2.1
    storage:
    - 172.24.3.1
    storage_mgmt:
    - 172.24.4.1
    management:
    - 172.24.5.1
  ComputeIPs:
    # Each Compute node will get an IP from the lists below, first compute, first IP
    external:
    - 172.25.250.2
    - 172.25.250.12
    internal_api:
    - 172.24.1.2
    - 172.24.1.12
    tenant:
    - 172.24.2.2
    - 172.24.2.12
    storage:
    - 172.24.3.2
    - 172.24.3.12
    management:
    - 172.24.5.2
    - 172.24.5.12
  CephStorageIPs:
    # Each Ceph node will get an IP from the lists below, first node, first IP
    external:
    - 172.25.250.3
    storage:
    - 172.24.3.3
    storage_mgmt:
    - 172.24.4.3
    management:
    - 172.24.5.3
  ObjectStorageIPs:
    # Each Swift node will get an IP from the lists below, first node, first IP
    external:
    - 172.25.250.4
    internal_api:
    - 172.24.1.4
    storage:
    - 172.24.3.4
    storage_mgmt:
    - 172.24.4.4
    management:
    - 172.24.5.4
  BlockStorageIPs:
    # Each Cinder node will get an IP from the lists below, first node, first IP
    external:
    - 172.25.250.5
    internal_api:
    - 172.24.1.5
    storage:
    - 172.24.3.5
    storage_mgmt:
    - 172.24.4.5
    management:
    - 172.24.5.5
  ComputeHCIIPs:
    external:
    - 172.25.250.6
    internal_api:
    - 172.24.1.6
    tenant:
    - 172.24.2.6
    storage:
    - 172.24.3.6
    storage_mgmt:
    - 172.24.4.6
    management:
    - 172.24.5.6
